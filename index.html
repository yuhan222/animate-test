<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>å‹•æ¼«äººæ ¼æ¸¬é©—ï¼šä½ æ˜¯å“ªä½ä¸»è§’ï¼Ÿ</title>

<style>
body { font-family:"Arial",sans-serif; background:#e8f1fc; margin:0; padding:40px; text-align:center; min-height:100vh; }
h1{font-size:32px;font-weight:bold;color:#2b2b6f;}
h2,h3{color:#2b2b6f;}
p{color:#555;}
button{cursor:pointer;transition:0.3s;}
.question-card {background: #f8f9ff; padding: 25px;border-radius: 20px;margin-top: 40px;box-shadow: 0 6px 15px rgba(0,0,0,0.08);display: inline-block;width: 90%;max-width: 500px;}
.option-btn{background-color:#fff;border:2px solid #3648eb;border-radius:12px;padding:10px 20px;margin:8px;width:250px;font-size:15px;}
.option-btn:hover{background-color:#d8d8ff;transform: scale(1.05);box-shadow: 0 5px 15px rgba(0,0,0,0.2);}
.card{background-color:#fff;padding:30px;border-radius:20px;display:inline-block;margin-top:40px;box-shadow: 0 10px 20px rgba(0,0,0,0.08);}
.restart-btn,.start-btn{margin-top:30px;background-color:#3648eb;color:#fff;border:none;padding:10px 20px;border-radius:10px;font-size:16px;}
.start-btn:hover,.restart-btn:hover {background-color: #1b08b1;}
.characters{display:flex;justify-content:center;flex-wrap: wrap; /* è‡ªå‹•æ›è¡Œ */gap: 20px 40px;  /* ä¸Šä¸‹ 20pxï¼Œå·¦å³ 40px */;margin-top:20px;}
.other-characters-container {
  display: flex;
  flex-direction: row;      /* å·¦å³æ’åˆ— */
  flex-wrap: wrap;          /* è‡ªå‹•æ›è¡Œ */
  gap: 25px 50px;
  justify-content: center;  /* æ°´å¹³ç½®ä¸­ */
  margin-top: 20px;
}
.character img{width:150px;height:150px;object-fit:cover;border-radius:10px;}
.character h4{color:#444;margin-top:10px;}
.character p{color:#777;}
.fade {transition: opacity 0.5s ease;opacity: 1;}
.fade-out {opacity: 0;}
.progress-bar {width: 0%;height: 16px;border-radius: 8px;background: linear-gradient(90deg, #4c59e6, #3c5ceb, #4c59e6);background-size: 200% 100%;animation: shine 1.5s linear infinite;transition: width 0.5s ease-in-out;}
@keyframes shine {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
.bg-circle { position: absolute; border-radius: 50%; filter: blur(80px); animation: floatAnim infinite alternate ease-in-out; }
    .bg-circle:nth-child(1) { width:200px; height:200px; top:10%; left:20%; background: rgba(255,107,107,0.15); animation-duration:12s; }
    .bg-circle:nth-child(2) { width:300px; height:300px; top:40%; left:70%; background: rgba(90,103,216,0.1); animation-duration:15s; }
    .bg-circle:nth-child(3) { width:150px; height:150px; top:70%; left:30%; background: rgba(127,90,240,0.08); animation-duration:18s; }
    @keyframes floatAnim { 0% { transform: translate(0,0); } 50% { transform: translate(20px,-30px); } 100% { transform: translate(0,0); } }
    .result-card { position: relative; max-width: 600px; margin: auto; background:#fff; padding:40px; border-radius:25px; box-shadow:0 20px 40px rgba(0,0,0,0.15); text-align:center; opacity: 0; transform: scale(0.8); animation: fadeInBounce 1s forwards; }
    @keyframes fadeInBounce { 0% { opacity:0; transform: scale(0.8); } 60% { opacity:1; transform: scale(1.05); } 80% { transform: scale(0.95); } 100% { transform: scale(1); } }
    .other-card { flex: 0 0 220px; background: rgba(90,103,216,0.05); border-radius:15px; padding:15px; box-shadow:0 10px 20px rgba(0,0,0,0.08); text-align:center; opacity:0; transform: scale(0.9); animation: fadeScale 0.6s forwards; }
    .other-card:nth-child(1) { animation-delay:0.3s; } .other-card:nth-child(2) { animation-delay:0.6s; }.other-card img {width: 150px; height: 150px;/* è§’è‰²åœ–ç‰‡æ”¾å¤§ */margin-bottom: 12px;}.other-card h4 {font-size: 20px;/* è§’è‰²åç¨±æ”¾å¤§ */}.other-card p {
  font-size: 15px;/* ç›¸ä¼¼åº¦æ–‡å­—æ”¾å¤§ */}
    @keyframes fadeScale { to { opacity:1; transform: scale(1); } }
    .restart-btn { margin-top:40px; padding:15px 30px; font-size:18px; opacity:0; transform: translateY(20px); animation: fadeUp 0.8s forwards; animation-delay:1s; }
    @keyframes fadeUp { to { opacity:1; transform: translateY(0); } }
    .question-box {
  background: #fff;
  border-radius: 20px;
  padding: 25px;
  margin-bottom: 20px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
}

.options-box {
  background: #fff;
  border-radius: 20px;
  padding: 25px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.result-card img {
  display: block;
  margin: 0 auto;
  width: 200px;       /* å¯è‡ªè¡Œèª¿æ•´å¤§å° */
  height: 200px;
  object-fit: cover;
  border-radius: 12px;
}

/* --- éŸ¿æ‡‰å¼è¨­è¨ˆ --- */
@media (max-width: 768px) {
  body {
    padding: 20px;
  }

  h1 {
    font-size: 24px;
  }

  .question-card, .result-card, .options-box, .question-box {
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
  }

  .option-btn {
    width: 100%;
    font-size: 14px;
    padding: 12px;
  }

  .characters, .other-characters-container {
    flex-direction: column;
    align-items: center;
    gap: 20px;
  }

  .character img, .other-card img {
    width: 120px;
    height: 120px;
  }

  .other-card {
    width: 90%;
    padding: 20px;
  }

  .result-card img {
    width: 150px;
    height: 150px;
  }

  .restart-btn, .start-btn {
    width: 100%;
    font-size: 16px;
    padding: 12px;
  }
}

@media (max-width: 480px) {
  h1 {
    font-size: 20px;
  }

  .option-btn {
    font-size: 13px;
    padding: 10px;
  }

  .result-card img {
    width: 120px;
    height: 120px;
  }
}
/* --- åˆ°é€™è£¡çµæŸ --- */
</style>
</head>
<body>

<div id="quiz"></div>

<script>
// ---------- è§’è‰²è³‡æ–™ ----------
const characters = [
  { name:"é³´äººï¼ˆç«å½±å¿è€…ï¼‰", image:"https://i.postimg.cc/Wb5gbPGy/fa5d029a95cfae91ef11372f5b9d0b3f.jpg", 
        traits:{personality:47.7,behavior:50,values:44.5}, 
        analysis:"ä½ æ°¸ä¸æ”¾æ£„ã€æ¨‚è§€ç©æ¥µï¼Œå°å‹æƒ…èˆ‡èªå¯æœ‰å¼·çƒˆæ¸´æœ›ã€‚",
        adjective:"ç†±è¡€å¤–å‘ã€è¡Œå‹•æ´¾ã€ä¿¡å¿µå¼·ã€æ­£ç¾©æ„Ÿçˆ†æ£š", 
Â  Â      quote:"æˆ‘æœªä¾†çš„å¤¢æƒ³æ˜¯æˆç‚ºæœ€å‰å¤§çš„ç«å½±ï¼æ•´å€‹æ‘å­å°±ä¸æœƒå†ç§ä¸èµ·æˆ‘ï¼Œé–‹å§‹æŠŠæˆ‘ç•¶ä½œé‡è¦çš„äººã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"19æ­²", status:"å­˜æ´»", job:"å¿è€…ã€ï¼ˆå¾Œæˆç‚ºï¼‰ç¬¬ä¸ƒä»£ç«å½±"} },
  { name:"è‰¾é€£ï¼ˆé€²æ“Šçš„å·¨äººï¼‰", image:"https://i.postimg.cc/zXzTrfgV/1d2c35bdeea9ebbf923ecb27889f95bb.jpg", 
        traits:{personality:32,behavior:34.5,values:31}, 
        analysis:"ä½ æœ‰å¼·çƒˆä¿¡å¿µï¼Œå‹‡æ–¼æ”¹è®Šå‘½é‹ï¼Œæœ‰æ™‚ç•¥é¡¯å›ºæ‰§ã€‚",
        adjective:"è¡å‹•ã€åŸ·è‘—ã€åæ¿€çš„ç†æƒ³ä¸»ç¾©è€…", 
Â  Â      quote:"æˆ‘å€‘æ¯ä¸€å€‹äººï¼Œå¾å‡ºç”Ÿé‚£ä¸€åˆ»é–‹å§‹ï¼Œå°±æ˜¯è‡ªç”±çš„ã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"16æ­²", status:"æ­»äº¡", job:"å£«å…µã€å·¨äººç¹¼æ‰¿è€…"} },
  { name:"ç‚­æ²»éƒï¼ˆé¬¼æ»…ä¹‹åˆƒï¼‰", image:"https://i.postimg.cc/J4rjLhkj/8c26f52d57c6a3bd19a136e1fae298bb.jpg", 
        traits:{personality:36.7,behavior:36.5,values:36}, 
        analysis:"ä½ æº«æŸ”é«”è²¼ã€å …æ¯…ä¸æ‹”ï¼Œé‡è¦–å®¶åº­èˆ‡æ­£ç¾©æ„Ÿã€‚" ,
        adjective:"æº«æŸ”å …æ¯…ã€æœ‰è²¬ä»»æ„Ÿã€å…±æƒ…å‹äººæ ¼", 
Â  Â      quote:"ç„¡è«–ä½•æ™‚ï¼Œéƒ½è«‹ç‚ºè‡ªå·±æ„Ÿåˆ°è‡ªè±ªï¼Œä¸¦ä¸”åŠªåŠ›æ´»ä¸‹å»ï¼",
Â  Â      details:{gender:"ç”·æ€§", age:"16æ­²", status:"å­˜æ´»", job:"é¬¼æ®ºéšŠåŠå£«"}},
  { name:"è™æ–æ‚ ä»ï¼ˆå’’è¡“è¿´æˆ°ï¼‰", image:"https://i.postimg.cc/3JtmJHXB/c35881ae2708c4a5aec4672c12ecc7f4.jpg", 
        traits:{personality:31.5,behavior:29.5,values:29}, 
        analysis:"ä½ è‡ªä¿¡ã€å¼·å‹¢ä½†é¢¨è¶£ï¼Œæ“æœ‰å£“å€’æ€§çš„èƒ½åŠ›èˆ‡é­…åŠ›ã€‚",
        adjective:"å–„è‰¯ä½†å…§æ–‚ã€é¡˜ç‚ºä»–äººçŠ§ç‰²ã€æƒ…æ„Ÿè±å¯Œã€‚", 
Â  Â      quote:"é›–ç„¶æˆ‘ä¸çŸ¥é“è‡ªå·±æ­»çš„æ™‚å€™æœƒæ˜¯æ€æ¨£ï¼Œä½†æˆ‘ä¸æƒ³åœ¨æ´»è‘—çš„æ™‚å€™å¾Œæ‚”",
Â  Â      details:{gender:"ç”·æ€§", age:"15æ­²", status:"å­˜æ´»", job:"å’’è¡“å¸«"} },
  { name:"åˆ©å§†é­¯ï¼ˆé—œæ–¼æˆ‘è½‰ç”Ÿè®Šæˆå²èŠå§†ï¼‰", image:"https://i.postimg.cc/m2L7srHz/68a3911c9e7c637068c94c68c1c9cb57.jpg", 
        traits:{personality:29,behavior:32,values:32}, 
        analysis:"ä½ è°æ˜ã€å–„æ–¼æ‡‰è®Šï¼Œæ“æœ‰åŒ…å®¹å¿ƒèˆ‡é ˜å°åŠ›ã€‚",
        adjective:"ç†æ€§é ˜å°å‹ã€å’Œå¹³ä¸­å¸¶æ¬Šå¨", 
Â  Â      quote:"æ²’æœ‰ä¿¡å¿µçš„åŠ›é‡æ¯«ç„¡æ„ç¾©ï¼Œæ²’æœ‰åŠ›é‡çš„ä¿¡å¿µæ¯«ç„¡åƒ¹å€¼ã€‚",
Â  Â      details:{gender:"ç„¡æ€§", age:"37æ­²", status:"å­˜æ´»", job:"é­”ç‹"} },
  { name:"å¤œç¥æœˆï¼ˆæ­»äº¡ç­†è¨˜æœ¬ï¼‰", image:"https://i.postimg.cc/9Fmyhf74/0ca6a28318f3b18c06be0d5042f52b78.jpg", 
        traits:{personality:23,behavior:27,values:25}, 
        analysis:"ä½ è°æ˜ã€æœ‰è¨ˆç•«æ€§ï¼Œè¿½æ±‚æ­£ç¾©èˆ‡ç§©åºï¼Œä½†æ–¹æ³•ç‰¹æ®Šã€‚" ,
        adjective:"å†·éœæ™ºè¬€ã€æ§åˆ¶æ…¾å¼·ã€æ¥µç«¯ç†æ€§æ´¾", 
Â  Â      quote:"æˆ‘è¦åˆ¶è£æ³•å¾‹ç„¡æ³•åˆ¶è£çš„å£äººï¼Œå‰µé€ ç†æƒ³çš„ç¤¾æœƒã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"23æ­²", status:"æ­»äº¡", job:"å­¸ç”Ÿã€è­¦å¯Ÿ"}},
  { name:"é»‘å­å“²ä¹Ÿï¼ˆé»‘å­çš„ç±ƒçƒï¼‰", image:"https://i.postimg.cc/TYdn6PD7/c283d36ec3fbae78da5611c4dde3259f.jpg", 
        traits:{personality:26,behavior:26.5,values:28}, 
        analysis:"ä½ ä½èª¿ã€ä¸æ¶é¢¨é ­ï¼Œä½†é»˜é»˜æ”¯æ´å¤¥ä¼´ï¼Œå…·æˆ°ç•¥çœ¼å…‰ã€‚",
        adjective:"ä½èª¿ç©©å®šã€æ³¨é‡åœ˜éšŠã€æŸ”å’Œå …æŒ", 
Â  Â      quote:"ç„¡è«–éŠæˆ²çµæŸæ™‚ä½ ç²å¾—å¤šå°‘åˆ†ï¼Œå¦‚æœä½ ä¸é–‹å¿ƒï¼Œé‚£å°±ä¸ç®—å‹åˆ©ã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"16æ­²", status:"å­˜æ´»", job:"ç±ƒçƒå“¡"} },
  { name:"å°å‚‘ï¼ˆçµäººÃ—çµäººï¼‰", image:"https://i.postimg.cc/SNgCNp65/f47da2431e77654449fb8f4c70cdaa5f.jpg", 
        traits:{personality:35.7,behavior:38,values:34}, 
        analysis:"ä½ å–®ç´”ã€å‹‡æ•¢ã€å¯Œæœ‰å†’éšªç²¾ç¥ï¼Œé‡è¦–å‹æƒ…èˆ‡æˆé•·ã€‚",
        adjective:"å¤©çœŸç†±æƒ…ã€ç›´è¦ºè¡Œå‹•æ´¾ã€éå¸¸åœ¨ä¹èº«é‚Šçš„æœ‹å‹", 
Â  Â      quote:"ç•¶æœ‹å‹æ˜¯ä¸éœ€è¦ä»€éº¼è³‡æ ¼çš„ã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"13æ­²", status:"å­˜æ´»", job:"è·æ¥­çµäºº"} },
  { name:"é½Šæœ¨æ¥ é›„ï¼ˆé½Šæœ¨æ¥ é›„çš„ç½é›£ï¼‰", image:"https://i.postimg.cc/JnGq3zR6/5a757e00-aee6-4f4a-818e-ccf462c6a28b.png", 
        traits:{personality:17,behavior:18,values:16}, 
        analysis:"ä½ å†·éœã€æœ‰æ™ºæ…§ï¼Œå–œæ­¡å¹³éœçš„ç”Ÿæ´»ï¼Œä¸æ“…æ–¼è¡¨é”å°èº«é‚Šäººçš„é—œå¿ƒï¼Œä½†æœƒåœ¨è¡Œå‹•ä¸­é»˜é»˜ç‚ºä»–äººä»˜å‡ºã€‚" ,
        adjective:"è¢«å‹•ç†æ€§ã€å†·æ·¡å»æœ‰è²¬ä»»å¿ƒ", 
Â  Â      quote:"æˆ‘è¨å­å¼•äººæ³¨ç›®ï¼Œä½†æˆ‘æ›´è¨å­è™§æ¬ ä¸€å€‹äººã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"16æ­²", status:"å­˜æ´»", job:"é«˜ä¸­ç”Ÿ"}},
  { name:"æ®ºè€å¸«ï¼ˆæš—æ®ºæ•™å®¤ï¼‰", image:"https://i.postimg.cc/fTzYNb9K/728035d32ad9054dade107d72c88f791.jpg", 
        traits:{personality:30,behavior:32.5,values:31}, 
        analysis:"ä½ å¹½é»˜ã€è°æ˜ã€å¯Œè²¬ä»»æ„Ÿï¼Œæ“…é•·æ¿€å‹µä»–äººã€‚" ,
        adjective:"è°æ˜æ¨‚è§€ã€é‡è¦–æˆé•·", 
Â  Â      quote:"æ–°æ‰‹è·Ÿå¤§å¸«çš„å·®åˆ¥ï¼Œåœ¨æ–¼å¤§å¸«å¤±æ•—çš„æ¬¡æ•¸æ¯”æ–°æ‰‹å˜—è©¦çš„æ¬¡æ•¸é‚„å¤šã€‚",
Â  Â      details:{gender:"ç„¡æ€§", age:"ç„¡å¹´é½¡", status:"æ­»äº¡", job:"è€å¸«"}},
  { name:"å‚æœ¬å¤ªéƒï¼ˆå‚æœ¬æ—¥å¸¸ï¼‰", image:"https://i.postimg.cc/YqrQHSW2/4fe385c8afc6905ca8efc74e4ad370a3.jpg", 
        traits:{personality:26,behavior:27.5,values:27}, 
        analysis:"ä½ å¹½é»˜ã€æ—¥å¸¸æ„Ÿåè¶³ï¼Œæ“æœ‰å°å†’éšªçš„æ¨‚è¶£ã€‚",
        adjective:"ç©©é‡ç†æ™ºã€æœ‰è²¬ä»»æ„Ÿã€éå¸¸é‡è¦–èº«é‚Šçš„äºº", 
Â  Â      quote:"æˆ‘æœªä¾†çš„å¤¢æƒ³æ˜¯æˆç‚ºæœ€å‰å¤§çš„ç«å½±ï¼æ•´å€‹æ‘å­å°±ä¸æœƒå†ç§ä¸èµ·æˆ‘ï¼Œé–‹å§‹æŠŠæˆ‘ç•¶ä½œé‡è¦çš„äººã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"27æ­²", status:"å­˜æ´»", job:"(å‰)æ®ºæ‰‹ã€åº—é•·"} },
  { name:"é¦¬ä¿®Â·ç­åœ°å¾·ï¼ˆè‚Œè‚‰é­”æ³•ä½¿ï¼‰", image:"https://i.postimg.cc/YqdYqwNc/fe4eaa5693f0b273a8600fe192aa9350.jpg", 
        traits:{personality:27,behavior:32,values:24}, 
        analysis:"ä½ å¼·å£¯ã€ç†±è¡€ï¼Œç†±æ„›æŒ‘æˆ°èˆ‡é›éŠè‡ªå·±ã€‚" ,
        adjective:"æ¨‚è¡Œå‹•å°å‘ã€å–®ç´”åŠ›é‡ä¿¡ä»°ã€é ­è…¦ç°¡å–®å¿ƒå–„è‰¯", 
Â  Â      quote:"å¦‚æœé€£å’Œçˆºçˆºå¹³å®‰ç”Ÿæ´»éƒ½ä¸è¡Œçš„è©±â€¦â€¦é‚£æˆ‘å°±ç”¨æ‹³é ­æ‰“çˆ†é€™å€‹ä¸–ç•Œã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"16æ­²", status:"å­˜æ´»", job:"ç¥è¦ºè€…"}},
  { name:"é»‘å´ä¸€è­·ï¼ˆæ­»ç¥ï¼‰", image:"https://i.postimg.cc/xT6MTSvL/c332f006b7faf6d088f66e286d915356.jpg", 
        traits:{personality:33,behavior:38.5,values:32}, 
        analysis:"ä½ å‹‡æ•¢ã€é‡è¦–å¤¥ä¼´èˆ‡è‡ªç”±ï¼Œå–„æ–¼è¨ˆç•«èˆ‡è¡Œå‹•ã€‚" ,
        adjective:"æ­£ç¾©å¼·ã€è¡Œå‹•åŠ›é«˜ã€æƒ…æ„Ÿæ·±", 
Â  Â      quote:"æˆ‘ä¸¦éèªç‚ºè‡ªå·±æœƒè´æ‰åœ¨æˆ°é¬¥ï¼Œè€Œæ˜¯å› ç‚ºéè´ä¸å¯æ‰æœƒæˆ°é¬¥ã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"27æ­²", status:"å­˜æ´»", job:"ä»£ç†æ­»ç¥ã€ç¿»è­¯å®¶"}},
  { name:"æ·€æ²»ï¼ˆéˆé‹¸äººï¼‰", image:"https://i.postimg.cc/5N48VtCN/08f1aa5a7200768f60db32eb95d6bdb8.jpg", 
        traits:{personality:20,behavior:20.5,values:19}, 
        analysis:"ä½ è°æ˜å‹‡æ•¢ã€é‡è¦–ç›®æ¨™ï¼Œé¡˜æ„ç‚ºç†æƒ³å†’éšªã€‚" ,
        adjective:"æœ¬èƒ½è¡å‹•ã€ç‚ºæ…¾æœ›è¡Œå‹•ã€å…§å¿ƒçŸ›ç›¾", 
Â  Â      quote:"åªè¦æ—©åˆæ™šæœ‰ä¸‰é¤èƒ½åƒï¼Œèƒ½ç¡è¦ºèƒ½æ´—æ¾¡ï¼Œå°±æ˜¯æœ€æ£’çš„äººç”Ÿäº†ã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"17æ­²", status:"å­˜æ´»", job:"å…¬å®‰æƒ¡é­”çµäººã€éˆé‹¸äºº"}},
  { name:"ç¶ è°·å‡ºä¹…ï¼ˆæˆ‘çš„è‹±é›„å­¸é™¢ï¼‰", image:"https://i.postimg.cc/280h8fQG/d6e473e43ef5e90ad8d1fa2dbc60324d.jpg", 
        traits:{personality:37.7,behavior:38.5,values:36}, 
        analysis:"ä½ å‹‡æ•¢ã€é‡è¦–å¤¥ä¼´ã€‚",
        adjective:"ç†æƒ³ä¸»ç¾©è€…ã€åŠªåŠ›å®¶ã€é‡ä¿¡å¿µ", 
Â  Â      quote:"æ„›å¤šç®¡é–’äº‹ï¼Œä¹Ÿæ˜¯è‹±é›„çš„æœ¬è³ªã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"16æ­²", status:"å­˜æ´»", job:"è·æ¥­è‹±é›„ã€è€å¸«"} },
  { name:"æ¡äººï¼ˆåˆ€åŠç¥åŸŸï¼‰", image:"https://i.postimg.cc/02k7sNwY/918fa7eca03bdcfcc76255cda0795fa7.jpg", 
        traits:{personality:30,behavior:32.5,values:30}, 
        analysis:"ä½ å†·éœã€æœ‰æ™ºæ…§ï¼Œæ³¨é‡å¤¥ä¼´é—œä¿‚èˆ‡æ­£ç¾©æ„Ÿã€‚",
        adjective:"ç¨è¡Œä½†é‡æƒ…ã€å†·éœæ€è€ƒã€æ“æœ‰å¼·çƒˆè²¬ä»»æ„Ÿ", 
Â  Â      quote:"æˆ‘å¯§é¡˜ç›¸ä¿¡å¾Œæ‚”ï¼Œä¹Ÿä¸é¡˜æ‡·ç–‘å¾Œæ‚”ã€‚",
Â  Â      details:{gender:"ç”·æ€§", age:"18æ­²", status:"å­˜æ´»", job:"ç©å®¶ã€å­¸ç”Ÿ"} }
];

// ---------- é¡Œç›®è³‡æ–™ ----------
const questions = [
  { text: "ä½ èªç‚ºåœ˜éšŠä¸­æœ€é‡è¦çš„æ˜¯ï¼Ÿ",
    options: [
    { text: "ä¿¡ä»»èˆ‡å‹æƒ…", score:{personality:3, behavior:3, values:4} },
    { text: "æ•ˆç‡èˆ‡è¡Œå‹•åŠ›", score:{personality:4, behavior:4, values:3} },
    { text: "å‰µæ„èˆ‡è‡ªç”±", score:{personality:4, behavior:2, values:3} },
    { text: "è¦å‰‡èˆ‡ç´€å¾‹", score:{personality:2, behavior:4, values:3} }
]
  },
  { text: "å‹•æ¼«è§’è‰²åœ¨åŠ‡æƒ…ä¸­é¢è‡¨è‘—é“å¾·çš„é¸æ“‡ï¼Œä½ æ›´å¸Œæœ›ä»–é¸æ“‡ï¼Ÿ",
    options: [
    { text: "ç†æ€§ã€åˆ©ç›Šæœ€å¤§åŒ–çš„è§£æ±ºæ–¹æ¡ˆ", score:{personality:2, behavior:2, values:2} },
    { text: "å–„è‰¯ã€ä¿è­·æƒ…èª¼çš„è§£æ±ºæ–¹æ¡ˆ", score:{personality:5, behavior:3, values:5} }
]
  },
  { text: "ä½ å°æœ‹å‹çš„æ…‹åº¦æ˜¯ï¼Ÿ",
    options: [
    { text: "å³ä½¿æœ‹å‹çŠ¯éŒ¯ä¹Ÿæœƒè¢’è­·ä»–ï¼Œé¡˜æ„ç‚ºä»–ä»˜å‡ºä¸€åˆ‡", score:{personality:5, behavior:4, values:5*1.3} },
    { text: "çŠ¯éŒ¯æ™‚æœƒæŒ‡è²¬ä»–ï¼Œå—åˆ°ä¸å…¬æ™‚æœƒæ”¯æŒä»–", score:{personality:3, behavior:3, values:3} },
    { text: "å¥½æˆ–å£éƒ½ä¸é—œæˆ‘çš„äº‹", score:{personality:1, behavior:1, values:1} },
    { text: "ä»–çŠ¯éŒ¯æ™‚æœƒé é›¢ä»–", score:{personality:2, behavior:2, values:2} }
]
  },
  { text: "åœ¨åœ˜éšŠä¸­ç™¼ç¾æœ‰äººçŠ¯éŒ¯ï¼Œä½ æœƒæ€éº¼åšï¼Ÿ",
    options: [
    { text: "ç«‹åˆ»æŒ‡å‡ºï¼Œé¿å…å½±éŸ¿çµæœ", score:{personality:4, behavior:5, values:4} },
    { text: "ç§ä¸‹æé†’ï¼Œä¿è­·å°æ–¹é¢å­", score:{personality:3, behavior:4, values:3} },
    { text: "ä¸æŒ‡å‡ºï¼Œä¿æŒå’Œè«§", score:{personality:2, behavior:2, values:2} },
    { text: "ç›´æ¥å¹«ä»–ä¿®æ­£éŒ¯èª¤ï¼Œä¸å»è²¬æ€ª", score:{personality:1, behavior:3, values:1} }
]
  },
  { text: "é‡åˆ°é™Œç”Ÿäººéœ€è¦å¹«å¿™ï¼Œä½ æœƒæ€éº¼åšï¼Ÿ",
    options: [
    { text: "ä¸»å‹•æä¾›å¹«åŠ©", score:{personality:4*1.3, behavior:5, values:4} },
    { text: "è§€å¯Ÿæƒ…æ³å†æ±ºå®š", score:{personality:3, behavior:3, values:3} },
    { text: "æ‰¾è—‰å£æ‹’çµ•å¹«å¿™ï¼Œé¿å…éº»ç…©", score:{personality:2, behavior:2, values:2} },
    { text: "å«ä»–å•å…¶ä»–äºº", score:{personality:1, behavior:1, values:1} }
]
  },
  { text: "è¦å­¸ç¿’ä¸€ç¨®æ–°æŠ€èƒ½ï¼Œä½ æœƒï¼Ÿ",
    options: [
    { text: "é¦¬ä¸Šå‹•æ‰‹å»å¯¦ä½œ", score:{personality:4, behavior:5*1.3, values:4} },
    { text: "å…ˆç ”ç©¶èƒŒæ™¯çŸ¥è­˜å†å¯¦ä½œ", score:{personality:3, behavior:4, values:4} },
    { text: "è«‹æ•™å·²ç¶“æœƒé€™é …æŠ€èƒ½çš„äºº", score:{personality:3, behavior:3, values:5} },
    { text: "éš¨æ„å˜—è©¦ï¼Œæœƒäº†å°±æœƒäº†ï¼Œä¸æœƒå°±ä¸æœƒ", score:{personality:1, behavior:2, values:1} }
]
  },
  { text: "ç•¶è¦å»åšä¸€é …å›°é›£çš„ä»»å‹™æ™‚ï¼Œä½ æœƒï¼Ÿ",
    options: [
    { text: "ç«‹å³æŠ•å…¥ï¼Œä¸æ€•å›°é›£", score:{personality:5, behavior:5*1.3, values:4} },
    { text: "ä»”ç´°ç­–åŠƒå¾Œè¡Œå‹•ï¼Œé¿å…é¢¨éšª", score:{personality:4, behavior:4, values:4} },
    { text: "å°‹æ‰¾å¤¥ä¼´å…±åŒå®Œæˆ", score:{personality:2, behavior:2, values:2} },
    { text: "èƒ½ä¸åšå°±ç›¡é‡ä¸åš", score:{personality:1, behavior:1, values:1} }
]
  },
  { text: "å¤±æ•—æ™‚ä½ çš„åæ‡‰ï¼Ÿ",
    options: [
    { text: "é¦¬ä¸Šé‡æ–°é–‹å§‹", score:{personality:5, behavior:5*1.3, values:4} },
    { text: "å…ˆåˆ†æåŸå› ï¼Œè¨ˆç•«ä¸‹ä¸€æ­¥", score:{personality:4, behavior:4, values:4} },
    { text: "å°‹æ±‚æœ‹å‹å®‰æ…°æˆ–å»ºè­°", score:{personality:3, behavior:3, values:3} },
    { text: "æ”¾é¬†ä¸€ä¸‹ï¼Œç­‰å¾…å¿ƒæƒ…æ¢å¾©", score:{personality:2, behavior:1, values:2} }
]
  },
  { text: "ä½ çš„ç”Ÿæ´»æ–¹å¼ï¼Ÿ",
    options: [
    { text: "ç©æ¥µç†±è¡€ï¼ŒæœŸå¾…æ¯ä¸€å¤©", score:{personality:5*1.3, behavior:4, values:5} },
    { text: "å–œæ­¡åšè¨ˆç•«ï¼Œå®‰æ’è‡ªå·±çš„æ¯åˆ†æ¯ç§’", score:{personality:1, behavior:1, values:1} },
    { text: "ç¨å¾®åšè¦åŠƒï¼Œä½†ä¹Ÿå–œæ­¡äº«å—éš¨æ©Ÿæ„Ÿ", score:{personality:3, behavior:3, values:3} },
    { text: "ç„¡æ‰€è¬‚ï¼Œéš¨ç·£ï¼Œç”Ÿæ´»æ€éº¼æ¨£éƒ½æ²’å·®", score:{personality:2, behavior:2, values:2} }
]
  },
  { text: "ä½ å°æœªä¾†çš„æ…‹åº¦ï¼Ÿ",
    options: [
    { text: "ä¸€å®šèƒ½å¤ é”æˆç›®æ¨™", score:{personality:5, behavior:5*1.3, values:4} },
    { text: "é †å…¶è‡ªç„¶ï¼Œäº«å—æˆé•·çš„éç¨‹", score:{personality:4, behavior:4, values:4} },
    { text: "æˆ‘åªåœ¨ä¹ç¾åœ¨", score:{personality:1, behavior:2, values:1} },
    { text: "ææ‡¼æœªä¾†çš„æœªçŸ¥æ„Ÿ", score:{personality:3, behavior:3, values:3} }
]
  }
];

// ---------- è®Šæ•¸ ----------
let currentQ = 0;
let answers = [];
let selectedOptions = [];
let lastProgress = 0;

// ---------- é–‹å§‹ç•«é¢ ----------
function showStartScreen(){
  const quizDiv = document.getElementById("quiz");
  quizDiv.classList.add("fade-out");
  setTimeout(() => {
    quizDiv.innerHTML=`
      <div class="card fade">
        <h1>å‹•æ¼«äººæ ¼æ¸¬é©—ï¼šä½ æ˜¯å“ªä½ä¸»è§’ï¼Ÿ</h1>
        <p>çµåˆå¿ƒç†æ¸¬é©—èˆ‡å‹•æ¼«è§’è‰²ï¼Œçœ‹çœ‹ä½ æœ€åƒèª°ï¼</p>
        <button class="start-btn" onclick="startQuiz()">é–‹å§‹æ¸¬é©—</button>
        <p style="margin-top:20px; font-size:14px; color:#888;">æ­¤æ¸¬é©—åƒ…ä¾›å¨›æ¨‚</p>
      </div>
    `;
    quizDiv.classList.remove("fade-out");
  }, 500);
}

// ---------- é–‹å§‹æ¸¬é©— ----------
function startQuiz(){
  currentQ=0;
  answers=[];
  selectedOptions = [];
  lastProgress=0;
  renderQuestion();
}

function renderQuestion() {
  const q = questions[currentQ];
  const quizDiv = document.getElementById("quiz");
  const targetPercent = ((currentQ) / questions.length) * 100;

  quizDiv.innerHTML = `
  <div class="question-card fade">
    
    <!-- é¡Œç›®å¤–æ¡† -->
    <div class="question-box">
      <h2>${q.text}</h2>
    </div>

    <!-- é¸é …å¤–æ¡† -->
    <div class="options-box">
      ${q.options.map((opt, idx) => {
        const isSelected = selectedOptions[currentQ] === idx 
          ? "background-color:#c5c8ff; border-color:#2b2b6f;" 
          : "";
        return `<button class="option-btn" style="${isSelected}" onclick="handleAnswer(${idx})">${opt.text}</button>`;
      }).join("")}
    </div>

    <!-- é€²åº¦æ¢ -->
    <div style="margin:40px auto 15px auto; width:80%; max-width:400px;"> 
      <div style="width:100%; height:16px; background:#eee; border-radius:8px; overflow:hidden;">
        <div id="question-progress" style="
          width:${lastProgress}%; 
          height:100%; 
          background: linear-gradient(90deg, #5a67d8, #7f5af0);
          border-radius:8px;
          transition: width 0.5s ease-in-out;
        "></div>
      </div>
      <p style="margin-top:8px; color:#666; font-size:14px;">é¡Œç›® ${currentQ + 1} / ${questions.length}</p>
    </div>

    ${currentQ > 0 ? `<div style="margin-top:5px;"><button class="start-btn" onclick="goBack()">â† ä¸Šä¸€é¡Œ</button></div>` : ""}
  </div>
  `;

  const progressBar = document.getElementById("question-progress");
  setTimeout(() => {
    progressBar.style.width = targetPercent + "%";
    lastProgress = targetPercent;
  }, 50);
}


function handleAnswer(index){
  selectedOptions[currentQ] = index;
  answers.push(questions[currentQ].options[index].score);
  currentQ++;
  if(currentQ<questions.length) renderQuestion();
  else showLoading();
}

function goBack(){
  if(currentQ > 0){
    currentQ--;
    renderQuestion();
  }
}

function calcTop3(avg){
  const scored=characters.map(c=>{
    const dx=avg.personality-c.traits.personality;
    const dy=avg.behavior-c.traits.behavior;
    const dz=avg.values-c.traits.values;
    const dist=Math.sqrt(dx*dx+dy*dy+dz*dz);
    return {...c,dist};
  });
  scored.sort((a,b)=>a.dist-b.dist);
  const maxDist=scored[scored.length-1].dist;
  return scored.slice(0,3).map(c=>({...c, similarity:Math.max(0,(100-(c.dist/maxDist*100))).toFixed(1)}));
}

function showResult() {
  if(answers.length !== questions.length){
    console.error("ç­”æ¡ˆæ•¸é‡ä¸å°ï¼", answers);
    return;
  }

  const userTotal = answers.reduce((acc, cur) => ({
  personality: acc.personality + cur.personality,
  behavior: acc.behavior + cur.behavior,
  values: acc.values + cur.values
}), { personality: 0, behavior: 0, values: 0 });

console.log("ğŸ§® ä½¿ç”¨è€…ç¸½åˆ†ï¼š", userTotal);
const top3 = calcTop3(userTotal);

  const main = top3[0];

Â  const quizDiv = document.getElementById("quiz");
Â  quizDiv.innerHTML = `
Â  Â  <div class="result-card" style="opacity:0; transform:scale(0.8);">
Â  Â  Â  Â  Â  Â  <h1>èˆ‡ä½ ç›¸ä¼¼çš„å‹•æ¼«è§’è‰²æ˜¯ï¼š</h1>
Â  Â  Â  Â  Â  Â  <h1><span style="
  display:inline-block;
  background:#5a67d8; /* ç´«è‰² */
  color:#fff;
  padding:10px 25px;
  border-radius:15px;
  font-size:32px;
  margin:0 0 15px 0;
  box-shadow:0 5px 15px rgba(90,103,216,0.3);
">
${main.name}
</span></h1>

</h1>
Â  <img src="${main.image}" crossorigin="anonymous" style="width:100%; max-width:450px; height:auto; aspect-ratio:1.5/1; object-fit:cover; border-radius:5px; margin-bottom:10px;">

Â  Â  Â  Â  Â  Â  <p style="
  font-size:18px; 
  font-weight:bold; 
  color:#2b2b6f; 
  padding:10px; 
  border-bottom: 2px solid #eee;
  margin:0 0 10px 0; 
  background: rgba(43,43,111,0.1); /* æ·±ç´«è‰²åŠé€æ˜åº•è‰² */
  border-radius:8px; /* å¯é¸ï¼ŒåŠ åœ“è§’æ›´å¥½çœ‹ */
">
  ${main.adjective || 'ç„¡å½¢å®¹è©'}
</p>


Â  Â  Â  Â  Â  Â  <blockquote style="
  font-size:18px; 
  color:#333; 
  border-left: 4px solid #2b2b6f;
  background:#f9f9f9;
  padding:10px 15px;
  border-radius:8px;
  margin:10px 0;
  text-align:left;
">
Â  Â  Â  Â  <p style="margin-bottom:5px;">${main.quote || 'ç„¡åè¨€'}</p>
Â  Â  Â  Â  <footer style="font-size:14px; color:#999; text-align:right;">â€” (${main.name.split('ï¼ˆ')[1].replace('ï¼‰', '') || 'å‹•æ¼«åç¨±'})</footer>
Â  Â  Â  </blockquote>
Â  Â  Â  
<div style="
  display: grid;
  grid-template-columns: repeat(2, auto);
  gap: 12px 25px;
  justify-content: center;
  margin:0 auto 15px auto;
">
  ${((details) => {
    const purpleBg = "#5a67d8";
    const createBorderTag = (label, value) => `
      <div style="display:flex; height:40px; min-width:150px;">
        <div style="
          background:${purpleBg};
          color:#fff;
          padding:0 12px;
          font-weight:bold;
          font-size:16px;
          display:flex;
          align-items:center;
          justify-content:center;
          border-top-left-radius:10px;
          border-bottom-left-radius:10px;
        ">
          ${label}
        </div>
        <div style="
          background:#fff;
          color:${purpleBg};
          border:2px solid ${purpleBg};
          border-left:none;
          padding:0 12px;
          font-size:16px;
          display:flex;
          align-items:center;
          justify-content:center;
          border-top-right-radius:10px;
          border-bottom-right-radius:10px;
        ">
          ${value}
        </div>
      </div>
    `;
    return `
      ${createBorderTag("æ€§åˆ¥", details.gender || 'æœªçŸ¥')}
      ${createBorderTag("å¹´é½¡", details.age || 'æœªçŸ¥')}
      ${createBorderTag("ç‹€æ…‹", details.status || 'æœªçŸ¥')}
      ${createBorderTag("è·æ¥­", details.job || 'æœªçŸ¥')}
    `;
  })(main.details)}
</div>
<!-- æ–°å¢åˆ†æå€å¡Š -->
<div style="
  margin-top:25px;
  background:#f8f9ff;
  border-radius:15px;
  padding:20px;
  box-shadow:0 6px 15px rgba(0,0,0,0.05);
  text-align:left;
">
  <h3 style="
    color:#2b2b6f;
    font-size:20px;
    margin-bottom:10px;
  ">äººæ ¼åˆ†æ</h3>
  <p style="
    color:#555;
    font-size:15px;
    line-height:1.6;
  ">${main.analysis || 'æš«ç„¡åˆ†æè³‡æ–™'}</p>
</div>

Â  Â  Â  
Â  Â  Â  Â  Â  Â  <hr>
Â  Â  Â  <h1>å…¶ä»–ç›¸ä¼¼è§’è‰²</h1>
Â  Â  Â  
Â  Â  Â  Â  Â  Â  
Â  Â  Â  <div class="other-characters-container">
${top3.slice(1).map(c => `
  <div class="character other-card">
    <img src="${c.image}" style="width:120px; height:120px; border-radius:15px; object-:cover; margin-bottom:10px;">
    <h4 style="font-size:18px; margin-bottom:8px;">${c.name}</h4>
    <div style="width:100%; background:#eee; border-radius:10px; height:16px; overflow:hidden; margin-bottom:5px;">
      <div style="width:${c.similarity}%; height:100%; background: linear-gradient(90deg, #5a67d8, #7f5af0); border-radius:10px; transition: width 0.5s;"></div>
    </div>
    <p style="font-size:14px; color:#555;">ç›¸ä¼¼åº¦: ${c.similarity}%</p>
  </div>
`).join("")}
</div>
<div style="text-align:center; margin-top:30px; display:flex; justify-content:center; gap:15px;">
  <button class="restart-btn" onclick="showStartScreen()">å†æ¸¬ä¸€æ¬¡</button>
  <button class="restart-btn" onclick="generateResultImage()">åˆ†äº«çµæœ</button>
</div>

<!-- æ–°å¢ç•«å¸ƒï¼Œç”¨ä¾†ç”Ÿæˆåœ–ç‰‡ï¼ˆéš±è—ï¼‰ -->
<canvas id="result-canvas" style="display:none;"></canvas>


Â  `;

  // è§¸ç™¼å‹•ç•«
  const card = quizDiv.querySelector(".result-card");
  setTimeout(() => { card.style.transition="all 0.8s"; card.style.opacity=1; card.style.transform="scale(1)"; }, 50);

  // å…¶ä»–è§’è‰²ä¾åºæ·¡å…¥
  const others = quizDiv.querySelectorAll(".character");
  others.forEach((el,i)=>{
    setTimeout(()=>{
      el.style.transition="all 0.6s"; el.style.opacity=1; el.style.transform="scale(1)";
    }, 300*i);
  });

  // restart æŒ‰éˆ•æ·¡å…¥
  const restartBtn = quizDiv.querySelector(".restart-btn");
  setTimeout(()=>{
    restartBtn.style.transition="all 0.6s"; restartBtn.style.opacity=1; restartBtn.style.transform="translateY(0)";
  }, 300*others.length + 300);
}

// ç”Ÿæˆçµæœåœ–ç‰‡
async function generateResultImage() {
  const card = document.querySelector(".result-card");
  const canvas = document.getElementById("result-canvas");

  // è¨­å®šç•«å¸ƒå¤§å°
  const rect = card.getBoundingClientRect();
  canvas.width = rect.width * 2;
  canvas.height = rect.height * 2;

  if (typeof html2canvas === 'undefined') {
    alert("è«‹å…ˆå¼•å…¥ html2canvas.js æ‰èƒ½ç”Ÿæˆåœ–ç‰‡");
    return;
  }

html2canvas(card, { scale: 4 }).then(canvasGenerated => {
    const dataURL = canvasGenerated.toDataURL("image/png");
    

    // å»ºç«‹æˆ–æ›´æ–°é è¦½å®¹å™¨
    let previewContainer = document.getElementById("result-preview");
    if (!previewContainer) {
        previewContainer = document.createElement("div");
        previewContainer.id = "result-preview";
        previewContainer.style.position = "fixed";
        previewContainer.style.top = "0";
        previewContainer.style.left = "0";
        previewContainer.style.width = "100%";
        previewContainer.style.height = "100%";
        previewContainer.style.background = "rgba(0,0,0,0.7)";
        previewContainer.style.display = "flex";
        previewContainer.style.flexDirection = "column";
        previewContainer.style.justifyContent = "center";
        previewContainer.style.alignItems = "center";
        previewContainer.style.zIndex = "9999";
        document.body.appendChild(previewContainer);
    }
    previewContainer.innerHTML = `
        <div style="background:#fff; padding:20px; border-radius:15px; text-align:center; max-width:90%; max-height:90%; overflow:auto;">
            <img src="${dataURL}" style="max-width:100%; max-height:80vh; border-radius:10px; margin-bottom:15px;">
            <div style="display:flex; justify-content:center; gap:15px;">
                <button id="download-btn" style="padding:10px 20px; border:none; border-radius:10px; background:#5a67d8; color:#fff; font-size:16px; cursor:pointer;">ä¸‹è¼‰åœ–ç‰‡</button>
                <button id="close-preview" style="padding:10px 20px; border:none; border-radius:10px; background:#aaa; color:#fff; font-size:16px; cursor:pointer;">é—œé–‰</button>
            </div>
        </div>
    `;

    // ä¸‹è¼‰åœ–ç‰‡
    document.getElementById("download-btn").onclick = () => {
        const a = document.createElement("a");
        a.href = dataURL;
        a.download = "å‹•æ¼«äººæ ¼æ¸¬é©—çµæœ.png";
        a.click();
    };

    // é—œé–‰é è¦½
    document.getElementById("close-preview").onclick = () => {
        previewContainer.remove();
    };
});


}


// ä¸‹è¼‰åœ–ç‰‡å‡½å¼
function downloadResultImage(dataURL) {
  const link = document.createElement("a");
  link.href = dataURL;
  link.download = "å‹•æ¼«äººæ ¼æ¸¬é©—çµæœ.png";
  link.click();
}



function showLoading(){
  const quizDiv = document.getElementById("quiz");
  quizDiv.innerHTML = `
    <div class="card" style="width:320px; max-width:90%;">
      <h2>ç”Ÿæˆçµæœä¸­...</h2>
      <div style="width:100%; background:#eee; border-radius:12px; overflow:hidden; margin-top:20px;">
        <div id="progress-bar" style="width:0%; height:20px; background:#5a67d8; transition: width 0.2s;"></div>
      </div>
    </div>
  `;
  let width = 0;
  const totalDuration = 2000;
  const stepTime = 20; 
  const increment = 100 / (totalDuration / stepTime);
  const interval = setInterval(()=>{
    width += increment;
    if(width > 100) width = 100;
    document.getElementById("progress-bar").style.width = width + "%";
    if(width >= 100){ clearInterval(interval); showResult(); }
  }, stepTime);
}

// ---------- åˆå§‹åŒ– ----------
showStartScreen();
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>
